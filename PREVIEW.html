<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMJCAMERA Store Preview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e5e5e5;
        }
        .font-heading {
            font-family: 'Bebas Neue', sans-serif;
        }
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .scrollbar-thin::-webkit-scrollbar {
            height: 4px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #737373;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom": "https://esm.sh/react-dom@18.2.0",
        "react-dom/": "https://esm.sh/react-dom@18.2.0/",
        "framer-motion": "https://esm.sh/framer-motion@11.0.0"
      }
    }
    </script>

    <script type="module">
        import React from 'react';
        import ReactDOM from 'react-dom';
        import { motion, AnimatePresence } from 'framer-motion';

        const { useState, useEffect, useRef } = React;

        // Mock data
        const PRINTS = [
            {
                id: 1,
                src: 'https://images.unsplash.com/photo-1557993636-50f22551b6a4?w=800&q=80',
                title: 'Galway Bay Mist',
                description: 'A fine art print capturing the ethereal morning mist over Galway Bay.',
                price: 150.00,
            },
            {
                id: 2,
                src: 'https://images.unsplash.com/photo-1576628043603-16a7c331a6b0?w=800&q=80',
                title: 'Cliffs of Moher',
                description: 'The dramatic Cliffs of Moher at sunset. A powerful and vibrant image.',
                price: 175.00,
            },
            {
                id: 3,
                src: 'https://images.unsplash.com/photo-1604512411293-3e5e2e0a2e37?w=800&q=80',
                title: 'Connemara Quiet',
                description: 'The serene and rugged landscape of Connemara National Park.',
                price: 160.00,
            },
            {
                id: 4,
                src: 'https://images.unsplash.com/photo-1619462828516-72c6f6e522f1?w=800&q=80',
                title: 'Shop Street Rhythm',
                description: 'The bustling energy of Galway\'s iconic Shop Street.',
                price: 120.00,
            },
        ];

        const PRINT_SIZES = [
            { id: '8x10', name: '8" x 10"', priceModifier: 0 },
            { id: '11x14', name: '11" x 14"', priceModifier: 25 },
            { id: '16x20', name: '16" x 20"', priceModifier: 50 },
            { id: '20x24', name: '20" x 24"', priceModifier: 75 },
            { id: '24x36', name: '24" x 36"', priceModifier: 120 },
        ];

        const PAPER_TYPES = [
            { id: 'matte', name: 'Archival Matte', priceModifier: 0 },
            { id: 'glossy', name: 'Fine Art Glossy', priceModifier: 15 },
            { id: 'canvas', name: 'Gallery Canvas', priceModifier: 40 },
        ];

        const FRAME_OPTIONS = [
            { id: 'none', name: 'No Frame', priceModifier: 0 },
            { id: 'black', name: 'Black Frame', priceModifier: 35 },
            { id: 'white', name: 'White Frame', priceModifier: 35 },
            { id: 'natural', name: 'Natural Wood', priceModifier: 45 },
        ];

        // Product Modal Component
        function ProductModal({ print, onClose, onAddToCart }) {
            const [selectedSize, setSelectedSize] = useState(PRINT_SIZES[0]);
            const [selectedPaper, setSelectedPaper] = useState(PAPER_TYPES[0]);
            const [selectedFrame, setSelectedFrame] = useState(FRAME_OPTIONS[0]);
            const [quantity, setQuantity] = useState(1);

            const totalPrice = print.price + selectedSize.priceModifier + selectedPaper.priceModifier + selectedFrame.priceModifier;

            const handleAddToCart = () => {
                onAddToCart({
                    id: `${print.id}-${selectedSize.id}-${selectedPaper.id}-${selectedFrame.id}`,
                    print,
                    size: selectedSize,
                    paper: selectedPaper,
                    frame: selectedFrame,
                    quantity,
                    totalPrice: totalPrice * quantity
                });
                onClose();
            };

            return React.createElement(motion.div, {
                className: "fixed inset-0 z-[60] flex items-center justify-center bg-black/90 p-4",
                onClick: onClose,
                initial: { opacity: 0 },
                animate: { opacity: 1 },
                exit: { opacity: 0 }
            },
                React.createElement(motion.div, {
                    className: "bg-[#0a0a0a] border border-neutral-800 max-w-4xl w-full max-h-[90vh] overflow-y-auto",
                    onClick: (e) => e.stopPropagation(),
                    initial: { scale: 0.9, opacity: 0 },
                    animate: { scale: 1, opacity: 1 },
                    exit: { scale: 0.9, opacity: 0 }
                },
                    React.createElement('div', { className: "grid md:grid-cols-2 gap-8 p-8" },
                        React.createElement('div', null,
                            React.createElement('img', { src: print.src, alt: print.title, className: "w-full h-auto" })
                        ),
                        React.createElement('div', { className: "flex flex-col" },
                            React.createElement('button', {
                                onClick: onClose,
                                className: "self-end text-neutral-400 hover:text-white mb-4"
                            }, '✕'),
                            React.createElement('h2', { className: "font-heading text-4xl tracking-wider mb-2" }, print.title),
                            React.createElement('p', { className: "text-neutral-400 mb-6" }, print.description),
                            
                            // Size Selection
                            React.createElement('div', { className: "mb-6" },
                                React.createElement('label', { className: "block text-sm font-medium mb-3 tracking-wider" }, 'SIZE'),
                                React.createElement('div', { className: "grid grid-cols-2 gap-2" },
                                    PRINT_SIZES.map(size =>
                                        React.createElement('button', {
                                            key: size.id,
                                            onClick: () => setSelectedSize(size),
                                            className: `p-3 border text-sm transition-all ${
                                                selectedSize.id === size.id
                                                    ? 'border-white bg-white text-black'
                                                    : 'border-neutral-700 hover:border-neutral-500'
                                            }`
                                        },
                                            React.createElement('div', { className: "font-medium" }, size.name),
                                            size.priceModifier > 0 && React.createElement('div', { className: "text-xs mt-1" }, `+€${size.priceModifier.toFixed(2)}`)
                                        )
                                    )
                                )
                            ),

                            // Price and Add to Cart
                            React.createElement('div', { className: "mt-auto pt-6 border-t border-neutral-800" },
                                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                                    React.createElement('span', { className: "text-2xl font-heading tracking-wider" }, 'TOTAL'),
                                    React.createElement('span', { className: "text-3xl font-bold" }, `€${(totalPrice * quantity).toFixed(2)}`)
                                ),
                                React.createElement('button', {
                                    onClick: handleAddToCart,
                                    className: "w-full py-4 bg-white text-black font-medium tracking-wider hover:bg-neutral-200 transition-colors"
                                }, 'ADD TO CART')
                            )
                        )
                    )
                )
            );
        }

        // Shopping Cart Component
        function ShoppingCart({ items, onClose, onRemoveItem }) {
            const subtotal = items.reduce((sum, item) => sum + item.totalPrice, 0);
            const shipping = subtotal > 100 ? 0 : 12.50;
            const total = subtotal + shipping;

            return React.createElement(motion.div, {
                className: "fixed inset-0 z-[60] flex items-end md:items-center md:justify-end bg-black/80",
                onClick: onClose,
                initial: { opacity: 0 },
                animate: { opacity: 1 },
                exit: { opacity: 0 }
            },
                React.createElement(motion.div, {
                    className: "bg-[#0a0a0a] border-t md:border-l border-neutral-800 w-full md:w-[500px] h-[80vh] md:h-screen overflow-y-auto",
                    onClick: (e) => e.stopPropagation(),
                    initial: { x: '100%' },
                    animate: { x: 0 },
                    exit: { x: '100%' }
                },
                    React.createElement('div', { className: "p-6" },
                        React.createElement('div', { className: "flex justify-between items-center mb-8" },
                            React.createElement('h2', { className: "font-heading text-3xl tracking-wider" }, `CART (${items.length})`),
                            React.createElement('button', { onClick: onClose, className: "text-neutral-400 hover:text-white" }, '✕')
                        ),
                        items.length === 0
                            ? React.createElement('div', { className: "text-center py-12 text-neutral-500" },
                                React.createElement('p', null, 'Your cart is empty')
                            )
                            : React.createElement(React.Fragment, null,
                                React.createElement('div', { className: "space-y-6 mb-8" },
                                    items.map(item =>
                                        React.createElement('div', { key: item.id, className: "flex gap-4 border-b border-neutral-800 pb-6" },
                                            React.createElement('img', { src: item.print.src, alt: item.print.title, className: "w-24 h-24 object-cover" }),
                                            React.createElement('div', { className: "flex-1" },
                                                React.createElement('h3', { className: "font-medium mb-1" }, item.print.title),
                                                React.createElement('p', { className: "text-sm text-neutral-400 mb-2" }, 
                                                    `${item.size.name} • ${item.paper.name} • ${item.frame.name}`
                                                ),
                                                React.createElement('button', {
                                                    onClick: () => onRemoveItem(item.id),
                                                    className: "text-sm text-neutral-400 hover:text-red-400"
                                                }, 'Remove')
                                            ),
                                            React.createElement('div', { className: "text-right" },
                                                React.createElement('p', { className: "font-medium" }, `€${item.totalPrice.toFixed(2)}`)
                                            )
                                        )
                                    )
                                ),
                                React.createElement('div', { className: "space-y-3 mb-6 pb-6 border-b border-neutral-800" },
                                    React.createElement('div', { className: "flex justify-between text-neutral-400" },
                                        React.createElement('span', null, 'Subtotal'),
                                        React.createElement('span', null, `€${subtotal.toFixed(2)}`)
                                    ),
                                    React.createElement('div', { className: "flex justify-between text-neutral-400" },
                                        React.createElement('span', null, 'Shipping'),
                                        React.createElement('span', null, shipping === 0 ? 'FREE' : `€${shipping.toFixed(2)}`)
                                    ),
                                    React.createElement('div', { className: "flex justify-between text-xl font-bold pt-3" },
                                        React.createElement('span', null, 'Total'),
                                        React.createElement('span', null, `€${total.toFixed(2)}`)
                                    )
                                ),
                                React.createElement('button', {
                                    className: "w-full py-4 bg-white text-black font-medium tracking-wider hover:bg-neutral-200 transition-colors"
                                }, 'PROCEED TO CHECKOUT')
                            )
                    )
                )
            );
        }

        // Store Component
        function Store() {
            const [selectedPrint, setSelectedPrint] = useState(null);
            const [cartItems, setCartItems] = useState([]);
            const [showCart, setShowCart] = useState(false);

            const handleAddToCart = (item) => {
                setCartItems(prev => [...prev, item]);
            };

            const handleRemoveItem = (id) => {
                setCartItems(prev => prev.filter(item => item.id !== id));
            };

            const cartItemCount = cartItems.reduce((sum, item) => sum + item.quantity, 0);

            return React.createElement('div', { className: "min-h-screen bg-[#0a0a0a] text-neutral-200" },
                // Header
                React.createElement('header', { className: "fixed top-0 left-0 right-0 z-40 p-6 bg-[#0a0a0a]/90 backdrop-blur-sm border-b border-neutral-800" },
                    React.createElement('div', { className: "container mx-auto flex justify-between items-center" },
                        React.createElement('h1', { className: "text-3xl font-heading tracking-wider" }, 'EMJCAMERA'),
                        React.createElement('button', {
                            onClick: () => setShowCart(true),
                            className: "relative px-4 py-2 border border-neutral-600 hover:bg-white hover:text-black transition-colors"
                        },
                            `CART ${cartItemCount > 0 ? `(${cartItemCount})` : ''}`
                        )
                    )
                ),

                // Main Content
                React.createElement('div', { className: "container mx-auto px-6 py-32" },
                    React.createElement('div', { className: "text-center mb-24" },
                        React.createElement('h1', { className: "font-heading text-8xl tracking-wider mb-4" }, 'PRINT STORE'),
                        React.createElement('p', { className: "max-w-2xl mx-auto text-neutral-400" },
                            'A curated selection of fine art prints. Each photograph is printed on museum-quality, archival paper.'
                        )
                    ),

                    React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12" },
                        PRINTS.map((print, index) =>
                            React.createElement('div', { key: print.id, className: "group cursor-pointer", onClick: () => setSelectedPrint(print) },
                                React.createElement('div', { className: "overflow-hidden mb-4" },
                                    React.createElement('img', {
                                        src: print.src,
                                        alt: print.title,
                                        className: "w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                                    })
                                ),
                                React.createElement('h3', { className: "text-xl font-medium tracking-wide" }, print.title),
                                React.createElement('p', { className: "text-neutral-400 mt-1 mb-2 text-sm line-clamp-2" }, print.description),
                                React.createElement('div', { className: "flex justify-between items-center" },
                                    React.createElement('p', { className: "text-lg font-semibold" }, `From €${print.price.toFixed(2)}`),
                                    React.createElement('button', {
                                        className: "px-6 py-2 border border-neutral-600 text-neutral-300 hover:bg-white hover:text-black transition-all duration-300 text-sm"
                                    }, 'View Options')
                                )
                            )
                        )
                    )
                ),

                // Modals
                React.createElement(AnimatePresence, null,
                    selectedPrint && React.createElement(ProductModal, {
                        print: selectedPrint,
                        onClose: () => setSelectedPrint(null),
                        onAddToCart: handleAddToCart
                    })
                ),
                React.createElement(AnimatePresence, null,
                    showCart && React.createElement(ShoppingCart, {
                        items: cartItems,
                        onClose: () => setShowCart(false),
                        onRemoveItem: handleRemoveItem
                    })
                )
            );
        }

        // Render
        ReactDOM.render(React.createElement(Store), document.getElementById('root'));
    </script>
</body>
</html>